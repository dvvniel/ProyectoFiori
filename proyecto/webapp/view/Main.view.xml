<mvc:View controllerName="com.proyecto.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:p="sap.m.plugins"
    xmlns:f="sap.f"
    xmlns:grid="sap.ui.layout.cssgrid">
    <Page id="page" title="{i18n>title}">
        <f:GridList id="idProductsGrid" items="{products>/results}">
            <f:customLayout>
                <grid:GridBoxLayout boxMinWidth="17rem" />
            </f:customLayout>
            <f:gridTemplate>
                <f:GridListItem type="Navigation" press="onItemPress">
                    <VBox class="sapUiSmallMargin">
                        <layoutData>
                            <FlexItemData growFactor="1" shrinkFactor="0" />
                        </layoutData>
                        <HBox justifyContent="SpaceBetween" alignItems="Start">
                            <Title text="{products>ProductName}" wrapping="true" />
                        </HBox>
                        <ObjectStatus text="{= ${products>UnitsInStock} > 0 ? 'Available' : 'Out of Stock'}" state="{= ${products>UnitsInStock} > 0 ? 'Success' : 'Error'}" />
                        <VBox alignItems="Center" class="sapUiMediumMarginTopBottom">
                            <Image src="sap-icon://product" height="8rem" width="8rem" />
                        </VBox>
                        <HBox justifyContent="SpaceBetween" alignItems="Center">
                            <Button icon="sap-icon://cart" type="Emphasized" press="onAddToCart" />
                            <ObjectNumber number="{
                                    parts:[{path:'products>UnitPrice'},{path:'products>CurrencyCode'}],
                                    type: 'sap.ui.model.type.Currency',
                                    formatOptions: {showMeasure: false}
                                }" unit="EUR" state="Success" />
                        </HBox>
                    </VBox>
                </f:GridListItem>
            </f:gridTemplate>
        </f:GridList>
    </Page>
</mvc:View>